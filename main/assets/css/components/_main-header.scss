:root {
  --main-header-height: 50px;
  --main-header-height-md: 70px;
  --switch-width: 64px;
  --switch-height: 32px;
  --switch-padding: 3px;
  --switch-animation-duration: 0.2s;
}

#main-header {
  .main-header {
    transition: 0.75s;
    position: relative;
    background-color: var(--color-bg);
    border-bottom: 1px solid var(--color-contrast-low);
    z-index: var(--zindex-header);
    @include breakpoint(md) {
      height: var(--main-header-height-md);
    }
    &__layout {
      padding: var(--space-sm) 0;
      @include breakpoint(md) {
        height: var(--main-header-height-md);
        padding: 0;
        display: table;
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
    }
    &__logo {
      @include breakpoint(md) {
        display: table-cell;
        vertical-align: middle;
      }
      a,
      svg,
      img {
        display: block;
      }
    }
    &__nav {
      margin-top: var(--space-sm);
      font-size: 1.25em;
      @include breakpoint(md) {
        float: right;
        margin-top: 0;
        font-size: 0.875em;
      }
      &-label {
        color: var(--color-contrast-medium);
        margin-bottom: var(--space-xs);
        @include breakpoint(md) {
          position: absolute;
          clip: rect(1px, 1px, 1px, 1px);
          clip-path: inset(50%);
        }
      }
      &-list {
        @include breakpoint(md) {
          display: flex;
          align-items: center;
        }
      }
      &-item {
        margin-bottom: var(--space-xs);
        @include breakpoint(md) {
          display: inline-block;
          margin-bottom: 0;
          margin-left: var(--space-md);
        }
      }
      &-divider {
        @include breakpoint(md) {
          height: 1em;
          width: 1px;
        }
      }
      &-link {
        color: var(--color-contrast-higher);

        &[aria-current] {
          color: var(--color-primary);
        }
      }
      &-trigger {
        display: none;
        &-icon {
          position: relative;
          display: block;
          height: 2px;
          width: 1em;
          background-color: currentColor;
          margin-right: var(--space-xxs);
          transition: 0.2s;
          &::before,
          &::after {
            content: "";
            position: absolute;
            left: 0;
            top: 0;
            width: inherit;
            height: inherit;
            background-color: currentColor;
            transition: 0.2s;
          }

          &::before {
            transform: translateY(-5px);
          }

          &::after {
            transform: translateY(5px);
          }
        }
        &[aria-expanded="true"] {
          .main-header__nav-trigger-icon {
            background-color: transparent;

            &::before {
              transform: rotate(45deg);
            }

            &::after {
              transform: rotate(-45deg);
            }
          }
        }
      }
    }
  }
  .js {
    .main-header {
      height: var(--main-header-height);
      @include breakpoint(md) {
        height: var(--main-header-height-md);
      }
      &__layout {
        height: var(--main-header-height);
        padding: 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        @include breakpoint(md) {
          height: var(--main-header-height-md);
        }
      }
      &__nav {
        margin-top: 0;
        position: absolute;
        top: var(--main-header-height);
        left: 0;
        width: 100%;
        background-color: var(--color-bg);
        box-shadow: var(--shadow-md);
        padding: var(--component-padding);
        display: none;
        @include breakpoint(md) {
          padding: 0;
          background-color: transparent;
          position: static;
          width: auto;
          box-shadow: none;
          display: block;
        }
        &--is-visible {
          display: block;
        }
        &-trigger {
          display: inline-flex;
          @include breakpoint(md) {
            display: none;
          }
        }
      }
    }
  }
  .switch {
    display: flex;
    flex-shrink: 0;
    align-items: center;
    position: relative;
    width: var(--switch-width);
    height: var(--switch-height);
    border-radius: 50em;
    padding: var(--switch-padding) 0;
    &__input,
    &__label {
      position: absolute;
      left: 0;
      top: 0;
    }
    &__input {
      margin: 0;
      padding: 0;
      opacity: 0;
      height: 0;
      width: 0;
      pointer-events: none;

      &:checked + .switch__label {
        background-color: var(--color-primary);
      }

      &:checked + .switch__label + .switch__marker {
        left: calc(100% - var(--switch-height) + var(--switch-padding));
      }

      &:focus + .switch__label,
      &:active + .switch__label {
        --color-shadow: hsla(
          var(--color-primary-h),
          var(--color-primary-s),
          var(--color-primary-l),
          0.2
        ); // fix iOS 12 bug
        box-shadow: 0 0 0 3px var(--color-shadow);
      }
    }
    &__label {
      width: 100%;
      height: 100%;
      color: transparent;
      user-select: none;
      background-color: var(--color-contrast-low);
      border-radius: inherit;
      z-index: 1;
      transition: background var(--switch-animation-duration);
    }
    &__marker {
      position: relative;
      background-color: var(--color-white);
      width: calc(var(--switch-height) - var(--switch-padding) * 2);
      height: calc(var(--switch-height) - var(--switch-padding) * 2);
      border-radius: 50%;
      z-index: 2;
      pointer-events: none;
      box-shadow: 0 1px 1px hsla(0, 0%, 0%, 0.25);
      left: var(--switch-padding);
      transition: left var(--switch-animation-duration);
      will-change: left;
    }
  }
}
